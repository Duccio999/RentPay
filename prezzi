<!doctype html>
<html lang="it">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>RentPay ‚Äì Prezzi</title>
  <link rel="icon" href="./icons/icon-192.png" sizes="192x192">
  <link rel="apple-touch-icon" href="./icons/icon-192.png">
  <link rel="manifest" href="./manifest.webmanifest">
  <link rel="stylesheet" href="./styles.css">
  <meta name="description" content="Commissioni su canoni, fee sulle garanzie canone e abbonamenti premium annuali con sconti.">
</head>
<body>
  <nav class="nav">
    <a class="brand" href="./index.html"><span class="house">üè†</span><span class="brand-text">RentPay</span></a>
    <div class="menu-desktop">
      <a href="./index.html">Home</a>
      <a href="./funzioni.html">Funzioni</a>
      <a href="./garanzia.html">Garanzia Canone</a>
      <a class="active" href="./prezzi.html">Prezzi</a>
      <a href="./login.html">Accedi</a>
    </div>
  </nav>

  <main class="container">
    <section class="card hero">
      <h1>Prezzi trasparenti</h1>
      <p>Paghi solo quando incassi. Con gli abbonamenti annuali ottieni sconti sulle commissioni.</p>
    </section>

    <section class="grid-cards">
      <div class="card">
        <h3>Commissione sui canoni</h3>
        <p><b>1,5% + ‚Ç¨0,25</b> per ogni pagamento riuscito.<br>
        <span class="small">Valori di esempio per la demo ‚Äî configurabili in produzione.</span></p>
        <ul>
          <li>Addebiti ricorrenti carta/SEPA</li>
          <li>Nessun costo di attivazione</li>
          <li>Reportistica e ricevute</li>
        </ul>
      </div>

      <div class="card">
        <h3>Fee garanzia canone</h3>
        <p><b>5% del premio</b> della polizza garanzia canoni (se attivata).<br>
        <span class="small">La tariffa reale dipende dal partner assicurativo.</span></p>
        <ul>
          <li>Preventivo e checkout in-app</li>
          <li>Integrazione partner</li>
        </ul>
      </div>

      <div class="card">
        <h3>Abbonamenti annuali</h3>
        <ul>
          <li><b>Starter ‚Äî ‚Ç¨99/anno</b>: <u>-10%</u> sulla commissione canoni</li>
          <li><b>Pro ‚Äî ‚Ç¨299/anno</b>: <u>-20%</u> sulla commissione + supporto prioritario</li>
        </ul>
        <p class="small">Gli sconti si applicano automaticamente ad ogni incasso.</p>
      </div>
    </section>

    <section class="card">
      <h2>Calcola il costo (demo)</h2>
      <div class="grid">
        <label>Canone mensile (‚Ç¨)
          <input id="c-rent" type="number" min="1" step="1" value="800">
        </label>
        <label>Mesi
          <input id="c-months" type="number" min="1" step="1" value="12">
        </label>
        <label>Abbonamento
          <select id="c-plan">
            <option value="none">Nessuno</option>
            <option value="starter">Starter (-10%)</option>
            <option value="pro">Pro (-20%)</option>
          </select>
        </label>
      </div>
      <div class="actions">
        <button class="btn primary" id="c-run">Calcola</button>
      </div>
      <div id="c-out" class="calc-out"></div>
      <p class="small">Questi importi sono una stima di esempio per la demo.</p>
    </section>
  </main>

  <footer class="footer">
    <div class="links">
      <a href="./terms.html">Termini di servizio</a>
      <a href="./privacy.html">Privacy Policy</a>
      <a href="./cookie.html">Cookie</a>
      <a href="https://forms.gle" target="_blank" rel="noopener">Questionario investitori</a>
    </div>
    <div>¬© 2025 RentPay ‚Äî PWA ‚Äî DEMO</div>
  </footer>

  <script>
    // Parametri demo (modifica qui per simulare prezzi reali)
    const COMM_PCT = 0.015;   // 1,5%
    const COMM_FIX = 0.25;    // ‚Ç¨0,25 per incasso
    const PLAN_DISCOUNT = { none: 0, starter: 0.10, pro: 0.20 };

    function euro(x){ return x.toLocaleString('it-IT',{style:'currency',currency:'EUR'}); }

    document.getElementById('c-run').addEventListener('click', ()=>{
      const rent   = Number(document.getElementById('c-rent').value || 0);
      const months = Number(document.getElementById('c-months').value || 0);
      const plan   = document.getElementById('c-plan').value;

      const gross   = rent * months;
      const perTx   = rent * COMM_PCT + COMM_FIX;
      const discount= PLAN_DISCOUNT[plan] || 0;
      const perTxNet= perTx * (1 - discount);
      const total   = perTxNet * months;

      document.getElementById('c-out').innerHTML = `
        <div class="grid grid-2">
          <div><b>Incasso lordo</b><div>${euro(gross)}</div></div>
          <div><b>Commissione per incasso</b><div>${euro(perTxNet)} (${(COMM_PCT*(1-discount)*100).toFixed(2)}% + ‚Ç¨${(COMM_FIX*(1-discount)).toFixed(2)})</div></div>
          <div><b>Numero incassi</b><div>${months}</div></div>
          <div><b>Commissioni totali stimate</b><div>${euro(total)}</div></div>
        </div>
      `;
    });
  </script>
</body>
</html>
